# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Pure HTML/CSS/JavaScript portfolio website with **zero build process**. Content is data-driven through JSON files, enabling quick updates without touching HTML. Deployed via GitHub Actions to GitHub Pages.

**Live Site:** https://diogo-costa-silva.github.io


## Claude Rules

1. First think through the problem, read the codebase for relevant files, and write a plan to tasks/todo.md.
2. The plan should have a list of todo items that you can check off as you complete them
3. Before you begin working, check in with me and I will verify the plan.
4. Then, begin working on the todo items, marking them as complete as you go.
5. Please every step of the way just give me a high level explanation of what changes you made
6. Make every task and code change you do as simple as possible. We want to avoid making any massive or complex changes. Every change should impact as little code as possible. Everything is about simplicity.
7. Finally, add a review section to the [todo.md](http://todo.md/) file with a summary of the changes you made and any other relevant information.
8. All resulting products (code, documentation, comments, variable names, etc.) must be written in English.


## Git

- Each commit should be basic and descriptive, with a short message.
- Simple and sequential commits, always made in my name, never Claude's.
- Commits must always be made in the name of diogo-costa-silva.
- Commits cannot mention Claude or Claude Code, nor say that the commit was generated by Claude.


## Git - don't commit

CLAUDE.md
/tasks
screenshots


## MCPs

Use available MCPs whenever possible:

Chrome Dev Tools: to test all aspects of the website, take screenshots, and analyze them to make decisions and propose approaches based on these findings.



## Development Commands

### Local Development

No npm install needed - pure HTML
VS Code Live Server (recommended)
Runs at http://127.0.0.1:5500


### Git Identity Management
```bash
# Verify current identity before commits
git config user.name
git config user.email

# Set identity (use aliases if configured)
gset-dd   # For dipedilans account
gset-dcs  # For diogo-costa-silva account
```

### Deployment
```bash
# Every push to main triggers automatic GitHub Actions deployment
git add .
git commit -m "feat: description"
git push origin main

# Monitor deployment
gh run list --limit 5
gh run view <run-id>
```

## Architecture

### Core Design Philosophy

**Trade-off:** ~1000 lines of duplicated HTML (header/footer across 7 pages) in exchange for zero build complexity.

- **99% of updates** = Edit JSON files (`data/*.json`)
- **1% of updates** = Edit HTML (navigation changes require updating all 7 pages)

### Module Initialization Order

Critical initialization sequence in `assets/js/main.js`:

```javascript
initColor();        // Must run first (establishes color system)
initTheme();        // Applies dark/light mode
initLanguage();     // Loads translations, must run before page-specific
initHeader();       // Navigation setup
initFooter();       // Footer setup
initAnimations();   // Scroll observers
initBackToTop();    // Back to top button
initModals();       // Modal system
// Then page-specific: initHero(), initProjects(), etc.
```

**Never change this order** - language must initialize before page-specific modules that use translations.

### Data Flow Architecture

1. **Static Structure (HTML)**: Page skeleton with `data-i18n` attributes
2. **Dynamic Content (JSON)**: Skills, projects, translations loaded at runtime
3. **Client Rendering (JS)**: Modules fetch JSON and inject into DOM
4. **User Preferences (localStorage)**: Theme and language persist across sessions

### Key Modules

| Module | Purpose | Key Functions |
|--------|---------|---------------|
| `language.js` | PT/EN switching | `getCurrentLanguage()`, `setLanguage()` |
| `projects.js` | Project filtering/display | `initProjects()`, filters by category/status/tech |
| `github-api.js` | Fetch repo stats | `enrichProjectsWithGitHubData()` (1hr cache) |
| `theme.js` | Dark/light mode | `initTheme()`, persists to localStorage |
| `navigation.js` | Header behavior | Smart hide/show on scroll, mobile menu |
| `skills.js` | Skills rendering | Loads `data/skills.json`, displays with icons |
| `contact.js` | Contact form | EmailJS integration, validation |
| `animations.js` | Scroll effects | IntersectionObserver for fade-ins |

### Multi-Filter System (`projects.js`)

Advanced filtering state object:
```javascript
filterState = {
    categories: [],      // Multi-select categories
    statuses: [],        // Multi-select statuses
    technologies: [],    // Multi-select technologies
    realOnly: false,     // Toggle for real projects only
    searchTerm: ''       // Search input
}
```

All filters apply simultaneously (AND logic). Projects must match ALL active filters.

### GitHub API Integration

- **Caching:** 1-hour localStorage cache (`CACHE_DURATION = 3600000ms`)
- **Rate Limiting:** Gracefully handles 403/429 responses
- **Enrichment:** Adds stars, watchers, forks, lastCommit to projects
- **Function:** `getRecentProjects()` returns 6 most recently updated repos

### Technology Icon Mapping

`techIconMap` in `projects.js` maps technology names to DevIcons classes:
```javascript
'Python': 'devicon-python-plain colored',
'React': 'devicon-react-original colored',
// 90+ mappings
```

When adding new technologies to `data/projects.json`, ensure they exist in `techIconMap` or add them.

## Content Updates

### Add/Edit Skills
Edit `data/skills.json`:
```json
{
  "name": "Docker",
  "icon": "devicon-docker-plain",
  "proficiency": 85,
  "years": "3+",
  "featured": true,
  "category": "devops"
}
```

### Add/Edit Projects
Edit `data/projects.json`:
```json
{
  "id": 1,
  "title": "Project Name",
  "category": "data-science",
  "status": "completed",
  "difficulty": "intermediate",
  "featured": true,
  "technologies": ["Python", "Docker"],
  "github": "https://github.com/user/repo",
  "demo": "#",
  "description": "Description...",
  "image": "https://...",
  "isReal": true
}
```

**Important:** If adding new technologies, check if they exist in `techIconMap` (assets/js/projects.js:20-93).

### Update Translations
Edit `data/translations.json`:
```json
{
  "en": { "nav.home": "Home", "hero.greeting": "Hello" },
  "pt": { "nav.home": "Início", "hero.greeting": "Olá" }
}
```

HTML elements with `data-i18n="nav.home"` will automatically update.

### Navigation Changes

**Warning:** Requires editing all 7 HTML files (index, skills, projects, about, contact, resume, 404). Header/footer are duplicated across all pages.

Files to update: `index.html`, `skills.html`, `projects.html`, `about.html`, `contact.html`, `resume.html`, `404.html`

## CSS Architecture

### Design System Variables
All design tokens in `assets/css/variables.css`:
```css
/* Colors */
--primary: #2196f3;
--text-primary: #212121;

/* Dark theme (prefers-color-scheme or .dark-theme) */
[data-theme="dark"] {
  --primary: #64b5f6;
  --text-primary: #ffffff;
}

/* Spacing scale */
--space-xs: 0.25rem;  /* 4px */
--space-md: 1rem;     /* 16px */
--space-3xl: 4rem;    /* 64px */
```

### File Structure
- `reset.css` - Browser normalization
- `variables.css` - Design tokens (edit here for global changes)
- `base.css` - Typography, base styles
- `layout.css` - Header, footer, grid systems
- `components.css` - Reusable components (buttons, cards)
- `utilities.css` - Helper classes
- `animations.css` - Keyframes, transitions
- `pages/*.css` - Page-specific overrides

### Responsive Breakpoints
```css
/* Mobile: 0-767px (base styles, no media query) */
/* Tablet: 768px-1023px */
@media (min-width: 768px) { ... }

/* Desktop: 1024px+ */
@media (min-width: 1024px) { ... }
```

## GitHub Actions Deployment

Workflow: `.github/workflows/static.yml`

Triggers:
- Every push to `main`
- Manual dispatch via Actions tab

Steps:
1. Checkout code
2. Setup Pages
3. Upload artifact (entire repo)
4. Deploy to GitHub Pages

Deployment time: 30-60 seconds

## Important Constraints

1. **No Build Process:** Everything must work directly in browser - no Webpack, Vite, or preprocessors
2. **ES6 Modules:** Use `import/export`, scripts load with `type="module"`
3. **Relative Paths:** All asset paths must be relative (no leading `/`)
4. **Duplicate HTML:** Accept header/footer duplication - changing nav = edit 7 files
5. **DevIcon Dependency:** Icons loaded from CDN, offline experience will show fallback text

## Testing Checklist

Before pushing changes:
- [ ] Test in Chrome, Firefox, Safari
- [ ] Test mobile responsive (DevTools mobile view)
- [ ] Verify dark/light theme toggle works
- [ ] Verify PT/EN language switching works
- [ ] Check browser console for errors
- [ ] Validate all links work (especially relative paths)
- [ ] Test project filters (category, status, tech, search)

## Common Issues

### Images/CSS Not Loading
- Verify paths are relative: `assets/css/main.css` not `/assets/css/main.css`
- Check file exists in repository
- Hard refresh browser (Cmd+Shift+R)

### Translations Not Applying
- Ensure `initLanguage()` runs before page-specific modules
- Check `data-i18n` attribute matches key in `translations.json`
- Verify JSON syntax is valid (trailing commas break JSON)

### GitHub API Rate Limiting
- API uses 1-hour cache to minimize requests
- Rate limit: 60 requests/hour (unauthenticated)
- If limited, cached data continues to display

### Project Filters Not Working
- Verify filter values match project data exactly (case-sensitive)
- Check `filterState` object in browser console
- Ensure `initProjects()` is called for the page
